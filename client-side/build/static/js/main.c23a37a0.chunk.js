(this["webpackJsonpclient-side"]=this["webpackJsonpclient-side"]||[]).push([[0],{140:function(e,a,t){e.exports=t(286)},145:function(e,a,t){},148:function(e,a,t){},150:function(e,a,t){},156:function(e,a){},157:function(e,a){},158:function(e,a){},159:function(e,a){},160:function(e,a){},161:function(e,a){},171:function(e,a){},286:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),c=t(14),l=t.n(c),i=(t(145),t(146),t(147),t(148),t(15)),o=t.n(i),u=t(42),s=t(26),m=t(18),d=t(44),f=t(297),p=t(130),g=t(300),b=t(296),E=t(293),h=t(301),v=t(298),y=t(294),j=(t(150),t(25),t(90)),x=function(){var e=Object(n.useState)(""),a=Object(m.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)({Benign:0,Malignant:0}),i=Object(m.a)(l,2),x=i[0],O=i[1],w=Object(n.useState)(!1),C=Object(m.a)(w,2),S=C[0],k=C[1],M=Object(d.b)({number:Math.round(100*(x.Benign+Number.EPSILON)),from:{number:0}}),P=Object(d.b)({number:Math.round(100*(x.Malignant+Number.EPSILON)),from:{number:0}}),R=function(){var e=Object(s.a)(o.a.mark((function e(a){var t,n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),(t="https://teachablemachine.withgoogle.com/models/yFK1MCn9u/")+"model.json",t+"metadata.json",e.next=6,j.load("https://teachablemachine.withgoogle.com/models/yFK1MCn9u/model.json","https://teachablemachine.withgoogle.com/models/yFK1MCn9u/metadata.json");case 6:n=e.sent,r=n.getTotalClasses(),(c=document.createElement("img")).src=a,n.predictTopK(c,r,!1).then((function(e){var a,t={},n=Object(u.a)(e);try{for(n.s();!(a=n.n()).done;){var r=a.value;t[r.className]=r.probability}}catch(c){n.e(c)}finally{n.f()}console.log(t),O(t),k(!1)}));case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",{class:"prediction-section"},r.a.createElement("div",{class:"upload-btn-wrapper"},r.a.createElement(f.a,{onClick:function(){return document.getElementById("userImg").click()},secondary:!0},"Upload a photo"),r.a.createElement(f.a,{onClick:function(){return R(t)},primary:!0},"Process"),r.a.createElement("input",{type:"file",id:"userImg",name:"userImg",accept:"image/*",onChange:function(e){!function(e){if(!e)return"";if(e.type&&-1===e.type.indexOf("image"))return console.log("File is not an image.",e.type,e),"";var a=new FileReader;a.addEventListener("load",(function(e){c(e.target.result)})),console.log(e),a.readAsDataURL(e)}(e.target.files[0]),c(e.target.files[0])}}),r.a.createElement(p.a,{src:t,size:"small",wrapped:!0})),r.a.createElement(g.a,null,S&&r.a.createElement(b.a,{active:!0},r.a.createElement(E.a,{indeterminate:!0},"Running Analysis")),r.a.createElement(h.a,{columns:2,relaxed:"very"},r.a.createElement(h.a.Column,null,r.a.createElement("h1",null,"Benign"),r.a.createElement(v.a,{label:"Percent Chance",value:r.a.createElement(d.a.div,{style:{fontSize:"40px",fontWeight:"bold",fontFamily:"monospace"}},M.number)}),r.a.createElement("p",null,"Accuracy: 81%")),r.a.createElement(h.a.Column,null,r.a.createElement("h1",null,"Malignant"),r.a.createElement(v.a,{label:"Percent Chance",value:r.a.createElement(d.a.div,{style:{fontSize:"40px",fontWeight:"bold",fontFamily:"monospace"}},P.number)}),r.a.createElement("p",null,"Accuracy: 84%"))),r.a.createElement(y.a,{vertical:!0})))},O=t(86),w=t(85),C=t.n(w);function S(){var e=r.a.createRef(),a=Object(n.useState)(null),t=Object(m.a)(a,2),c=t[0],l=t[1],i=function(){var e=Object(s.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/melanoma-death-data").then((function(e){return e.json()}));case 2:a=e.sent,l(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){i()}),[]),Object(n.useEffect)((function(){if(c){var a=e.current.getContext("2d");new C.a(a,{type:"line",data:{labels:c.data.map((function(e){return e.Year.replace(/['"]+/g,"")})),datasets:[{label:"Melanoma Deaths",data:c.data.map((function(e){return parseInt(e.DeathCount.replace(/['"]+/g,""))})),backgroundColor:"rgba(250, 85, 85, 0.3)",pointRadius:5,pointHitRadius:5}]},options:{animation:{duration:2e3,easing:"linear"},title:{display:!0,text:"Melanoma Deaths 1999-2017"},legend:{display:!0},scales:{yAxes:{display:!0,labelString:"Death Count"},xAxes:{display:!0,labelString:"Year"}}}})}}),[c]),r.a.createElement("div",{style:{width:"40%"}},r.a.createElement("canvas",{id:"myChart",ref:e}))}function k(){var e=r.a.createRef(),a=Object(n.useState)(null),t=Object(m.a)(a,2),c=t[0],l=t[1],i=function(){var e=Object(s.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/melanoma-survival-data").then((function(e){return e.json()}));case 2:a=e.sent,l(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){i()}),[]),Object(n.useEffect)((function(){if(c){var a=e.current.getContext("2d");new C.a(a,{type:"bar",data:{labels:c.data.map((function(e){return e.Race.replace(/['"]+/g,"")})),datasets:[{label:"Melanoma 5 Year Survival Percentage",data:c.data.map((function(e){return parseInt(e["5-yearRelativeSurvival%"].replace(/['"]+/g,""))})),backgroundColor:"rgba(255, 165, 0, 0.3)"}]},options:{animation:{duration:2e3,easing:"linear"},title:{display:!0,text:"Melanoma 5 Year Survival Rate Per Race"},scales:{yAxes:[{ticks:{suggestedMin:50}}]}}})}}),[c]),r.a.createElement("div",{style:{width:"40%"}},r.a.createElement("canvas",{id:"survivalChart",ref:e}))}var M=t(295),P=t(303),R=t(36);t(25),t(90);function A(){var e=Object(n.useState)(0),a=Object(m.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)([]),i=Object(m.a)(l,2),u=i[0],d=i[1],f=function(){var e=Object(s.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,fetch("/api/experiment-results").then((function(e){return e.json()}));case 3:a=e.sent,console.log(a),d(a),c(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){f()}),[]),r.a.createElement("div",null,t&&r.a.createElement(b.a,{active:!0},r.a.createElement(E.a,{indeterminate:!0},"Running Analysis")),r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center"}},u&&u.map((function(e){return r.a.createElement(M.a,{style:{margin:"15px"}},r.a.createElement(P.a,{animated:"move",instant:!0},r.a.createElement(P.a.Content,{visible:!0},r.a.createElement(p.a,{src:e.image,style:{boxShadow:"inset 0 0 2000px rgba(255, 255, 255, .5)",filter:"blur(6px)",width:"300px",height:"250px"}})),r.a.createElement(P.a.Content,{hidden:!0},r.a.createElement(p.a,{src:e.image,style:{width:"300px",height:"250px"}}))),r.a.createElement(M.a.Content,null,r.a.createElement(M.a.Header,null,"Actual Status: ",e.actual),r.a.createElement(M.a.Description,null,"Benign: ".concat(e.Benign,"% Malignant: ").concat(e.Malignant,"%"))),r.a.createElement(M.a.Content,{extra:!0},e.correct?r.a.createElement("a",null,r.a.createElement(R.a,{name:"thumbs up outline"}),"Prediction Accurate"):r.a.createElement("a",null,r.a.createElement(R.a,{name:"thumbs down"}),"Prediction Inaccurate")))}))))}var I=t(302);var B=function(){return r.a.createElement("div",null,r.a.createElement(O.a,{bg:"dark",variant:"dark"},r.a.createElement(O.a.Brand,{href:"#home"},"Skin Cancer Predictor")),r.a.createElement(I.a,{as:"h2"},"Using Machine Learning to Predict Melanoma"),r.a.createElement(I.a,{as:"h4"},"Upload a photo below, of suspected melanoma on your skin to recieve a procedurally generated prediction of whether it's benign or malignant"),r.a.createElement("div",{class:"main"},r.a.createElement(x,null)),r.a.createElement("div",{className:"d-flex",style:{justifyContent:"space-around"}},r.a.createElement(S,null),r.a.createElement(k,null)),r.a.createElement(I.a,{as:"h2"},"Predicting Melanoma On People Of Color"),r.a.createElement(I.a,{as:"h4"},"20% accuracy on benign predictions and 80% accuracy on malignant predictions"),r.a.createElement(A,null),r.a.createElement(g.a,null,r.a.createElement("b",null,"Disclaimer: Due to a lack of available datasets containing benign/malignant leisions on darker skinned patients. Experiement shall remain inconclusive.")))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(B,null)),document.getElementById("root"))}},[[140,1,2]]]);
//# sourceMappingURL=main.c23a37a0.chunk.js.map